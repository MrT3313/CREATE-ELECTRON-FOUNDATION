phony: i ri db-setup gen-routes e-build e-rebuild flush

kac:
	@echo "ğŸ”ğŸ” Starting Kit and Caboodle"
	make eb-flush
	make ri
	# make db-setup
	make tsr-gen-routes
	# make eb-rebuild
	make dev

dev:
	@echo "ğŸ”ğŸ” Starting local development process"
	npm run dev

debug:
	@echo "ğŸ”ğŸ” Starting local debug process"
	npm run debug

# PACKAGES ####################################################################
i:
	@echo "ğŸ”ğŸ” Installing packages"
	npm i

ri:
	@echo "ğŸ”ğŸ” Removing node_modules and package-lock.json"
	rm -rf node_modules package-lock.json
	make i

# # DATABASE ####################################################################
# db-setup:
# 	@echo "ğŸ”ğŸ” Setting up database"
# 	npm run db:setup

# TANSTACK ROUTER #############################################################
tsr-gen-routes:
	@echo "ğŸ”ğŸ” Generating Tanstack Router routes"
	npm run tanstackrouter:generate:routes
	
# ELECTRON ####################################################################
# TODO: fix this - concurrently (vite + migrations [THEN+AND CONCURRENTLY] electron .)
# e-dev:
# 	@echo "ğŸ”ğŸ” Starting Electron app"
# 	npm run electron:dev

# PRODUCTION (electron-builder) ###############################################
eb-flush:
	@echo "ğŸ”ğŸ” Flushing build assets"
	rm -rf dist dist-electron release

eb-build:
	@echo "ğŸ”ğŸ” Building Electron app"
	npm run electron:build

eb-rebuild:
	@echo "ğŸ”ğŸ” Rebuilding Electron app"
	npm run electron:rebuild

